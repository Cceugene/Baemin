# 배달의 민족 사장님 사이트를 이용한 데이터 분석
## 개요
배달의 민족 우리가게 데이터를 분석하여 가게 운영의 방향성을 제시하는 프로젝트입니다.

현재 배달의 민족 사장님 사이트에서는 다양한 가게 통계를 제공하고 있다. 하지만 우리 가게에 필요한 구체적인 정보는 제공되지 않는다. 따라서 데이터 분석을 통해 가게 운영에 도움이 될 만한 방향성을 제시하기 위해 본 프로젝트를 시작하였다.
* 개인 프로젝트
* 기간: 2022년 4월 1일 ~ 2022년 00월 00일


## 기술스택
**웹 크롤링**
 * selenium
 * webdriver

**데이터 전처리 및 시각화**
 * pandas
 * matplotlib
 * seaborn

**데이터 분석**
 * Apriori
 * sklearn

# 데이터 분석
## 문제 정의
가게에서 판매중인 메뉴는 국밥, 냉면, 타코야끼, 치밥 총 네 가지 이다. 이 중 타코야끼와 치밥의 판매가 상대적으로 적다. 특히 최근 치밥의 닭고기에서 누린내가 난다는 리뷰가 달리고 있다고 한다.\
따라서 본 프로젝트의 문제를 다음과 같이 정의했다.
1. 타코야끼와 치밥 메뉴의 판매량 증진
2. 닭고기의 누린내 문제 해결
## 데이터 수집 및 탐색
배달의 민족 사이트에서 raw data가 제공되지 않기때문에 웹스크래핑을 이용해서 데이터를 긁어와야했다. 처음엔 크롤링 기술의 존재만 알았기 때문에 기술을 사용하기 위해 따로 학습할 필요를 느끼고 있던 와중에 마침 학교에서 지원하는 메이저러너 프로그램과 웹 프로그래밍 과목에서 웹 크롤링 기법과 HTML5 문법을 배울 기회가 생겼다. 크롤링의 원리와 웹페이지 구조를 어느 정도 이해하게 되었을 때, selenium을 통한 자동화 기술을 따로 공부하여 드디어 가게 주문 내역과 리뷰를 긁어올 수 있게 되었다.\
[웹 크롤링 코드](https://github.com/Cceugene/review/blob/baemin/crawling_baemin.ipynb)

## 시각화
주문내역의 날짜 데이터를 이용해 날짜/시간별 주문량을 분석했다.
* 각 메뉴의 요일별 주문량
<img width="800" alt="요일별 주문량" src="https://user-images.githubusercontent.com/90452911/175068632-1b2cce9f-987f-4158-b590-0177bd64dcc4.PNG">
치밥의 경우 주간/주말 주문량의 차이가 적음에도 다른 메뉴에 비해 주문량이 적게 나타났다.

* 시간대별
<img width="800" alt="시간대별_주문량" src="https://user-images.githubusercontent.com/90452911/175282168-de403f8b-2ffb-404b-a650-9c18f93d4161.PNG">

* 메뉴별 주문 시간대
<img width="800" alt="메뉴별 주문 시간대" src="https://user-images.githubusercontent.com/90452911/175574357-9f19a846-2f13-41b4-8746-92acf91a3d3e.PNG">


## 리뷰 분석
 치밥에 대한 소비자의 반응을 알아보기 위해 리뷰 데이터 분석을 시행했다.
 먼저 Kaggle의 주문 데이터를 이용해 모델을 학습시키고, 앞서 크롤링으로 수집 한 가게 리뷰 데이터를 사용해 고객들의 반응을 분석했다.\
[학습에 이용한 Kaggle 데이터](https://www.kaggle.com/datasets/ninetyninenewton/kr3-korean-restaurant-reviews-with-ratings)\
[감성분석 코드](https://github.com/Cceugene/review/blob/baemin/Sentimental_Analysis.ipynb)

 분석 결과 치밥 메뉴의 부정 리뷰의 키워드를 빈도수로 시각화한 결과 '닭고기'와 '누린내'라는 단어가 나타났다. 따라서 치밥의 판매가 저조한 원인이 닭고기의 누린내라는 것을 확인했다.

 치밥의 누린내 문제에 대응하는 방식을 두 가지로 나누어 **연관규칙 마이닝**과 **품질관리**를 사용하기로 했다. 품질관리는 누린내 문제를 해결해 단골손님의 유실을 막는 것, 연관분석 마이닝은 주간, 점심시간대에 많이 팔리는 치밥의 특성을 이용해 새로운 고객층을 늘리는 것을 목표로 하였다.

## 연관규칙 마이닝
 치밥의 주문내역을 분석하여 점심시간대 주문 특징을 찾아내고, 판매량을 늘릴 방안을 탐색하기 위해 연관규칙 마이닝을 시행하였다.
 그 결과 점심시간대 주문이 음식량에 영향을 끼친다는 것은 치밥의 주중 오전 주문 비중이 높은 것이 직장인들의 점심식사 때문이라는 추론을 뒷받침했다. 또한, '직화양념 치밥 도시락'과 음식량 추가 선택이 점심 주문에 영향을 준다는 사실을 발견했으며, _직화 양념의 양 조절이 용이하게 하는 등_ 의 변화를 통해 점심시간 주문량이 증가할 것으로 기대된다.\
[치밥 메뉴 ARM 코드](https://github.com/Cceugene/Baemin/blob/master/05_ARM/ARM_chibab.ipynb)

주문 내역에서 뽑은 장바구니 목록을 Apriori를 통해 연관규칙을 얻어냈다.\
[ARM 코드](https://github.com/Cceugene/review/blob/baemin/ARM_bascket_Tako.ipynb)


